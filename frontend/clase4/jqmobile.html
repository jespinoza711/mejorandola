<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
	<title>Document</title>
	<script type="text/javascript">

	$(function(){

			$('#grito').on('pageshow', function(){
				alert('ay!!!');
			});

			
			$('[data-role=navbar] a').on('click', function(){
				$.mobile.changePage($(this).attr('data-href'));
			})
			

			$('#botonbuscar').on('click', function(){
				var buscar = $('#cajatexto').val();
				$('#botonbuscar').addClass('ui-disabled');
				$('#mensajes').html('Buscando '+buscar+' en Internet');

				setTimeout(function(){
					var res = [
						'javascript avazando',
						'aprendiendo javascript',
						'closures for dummies',
						'Que es un mixin, mami?',
						'RFTM: the good parts',
					];

					$('#mensajes').html('Se encontraron '+res.length+' resultados sobre '+buscar);
					$('#botonbuscar').removeClass('ui-disabled');
					$('[data-role=listview]').html('');

					$.each(res, function(i, elem){
						$('#listado').append('<li>'+elem+'</li>');
					});

					$('#listado').listview('refresh');

				}, 2000);
			});

		});

	</script>
</head>
<body>

	<div data-role="page" id="home">

		<div data-role="header">
			<h1>Home</h1>

			<div data-role="navbar">
				<ul>
					<li><a href="#" data-href="#home" class="ui-btn-active">Home</a></li>
					<li><a href="#" data-href="#buscar">Buscar</a></li>
					<li><a href="#" data-href="#grito">Grito</a></li>
				</ul>
			</div>
		</div>

		<div data-role="content">
			<h1>Bienvenido a Mejorando el JQuery Mobile</h1>
		</div>

		<div data-role="footer">
			<a data-role="button" data-icon="plus" href="#">Agregar</a>
			<a data-role="button" data-icon="arrow-u" href="#">Subir</a>
			<a data-role="button" data-icon="arrow-d" href="#">Bajar</a>
		</div>		

	</div>


	<div data-role="page" id="buscar">

		<div data-role="header">
			<h1>Home</h1>

			<div data-role="navbar">
				<ul>
					<li><a href="#" data-href="#home" class="ui-btn-active">Home</a></li>
					<li><a href="#" data-href="#buscar">Buscar</a></li>
					<li><a href="#" data-href="#grito">Grito</a></li>
				</ul>
			</div>
		</div>

		<div data-role="content">
			<fieldset class="ui-grid-a">
				<div class="ui-block-a">
					<input type="text" id="cajatexto">
				</div>
				<div class="ui-block-b">
					<a id="botonbuscar" 
					data-role="button" data-icon="check" data-inline="true" href="#">Buscar</a>
				</div>
			</fieldset>

			<div id="mensajes">
			</div>
			<br>
			<ul id="listado" data-role="listview" data-inset="true">
				<li>Item 1</li>
				<li><a href="#">Item 2</a></li>
				<li>Item 3 <span class="ui-li-count">87</span></li>
				<li>Item 4</li>
				<li>Item 5</li>
			</ul>
			

		</div>

		<div data-role="footer">
			<a data-role="button" data-icon="plus" href="#">Agregar</a>
			<a data-role="button" data-icon="arrow-u" href="#">Subir</a>
			<a data-role="button" data-icon="arrow-d" href="#">Bajar</a>
		</div>		

	</div>


	<div data-role="page" id="grito">

		<div data-role="header">
			<h1>Home</h1>

			<div data-role="navbar">
				<ul>
					<li><a href="#" data-href="#home" class="ui-btn-active">Home</a></li>
					<li><a href="#" data-href="#buscar">Buscar</a></li>
					<li><a href="#" data-href="#grito">Grito</a></li>
				</ul>
			</div>
		</div>

		<div data-role="content">
			<h1>Bienvenido a Mejorando el JQuery Mobile</h1>
		</div>

		<div data-role="footer">
			<a data-role="button" data-icon="plus" href="#">Agregar</a>
			<a data-role="button" data-icon="arrow-u" href="#">Subir</a>
			<a data-role="button" data-icon="arrow-d" href="#">Bajar</a>
		</div>		

	</div>

</body>
</html>